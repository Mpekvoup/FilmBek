{# templates/AllNews.html #}
{% extends 'base.html' %}
{% load static %}

{% block title %}Все новости — CINEMANIA{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock %}

{% block content %}
<section class="news-section">
  <h2 class="section-title">Все новости</h2>
  <div class="news-container">
    {% for news in news_list %}
      <article class="news-item">
        {% if news.image %}
          <a href="{% url 'news_detail' news.pk %}">
            <img src="{{ news.image.url }}" alt="{{ news.title }}" class="news-image">
          </a>
        {% endif %}
        <div class="news-content">
          <h3 class="news-title">
            <a href="{% url 'news_detail' news.pk %}">
              {{ news.title }}
            </a>
          </h3>
          <p class="news-date">{{ news.published_date|date:"d.m.Y H:i" }}</p>
          <p class="news-excerpt">{{ news.content|truncatechars:150 }}</p>
          <a href="{% url 'news_detail' news.pk %}" class="news-more">Читать далее →</a>
        </div>
      </article>
    {% empty %}
      <p class="empty-message">Новостей пока нет.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
